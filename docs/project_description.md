# Telegram Bot для поздравлений с днем рождения

## Описание проекта
Простой Telegram бот, который принимает текстовые и голосовые сообщения от пользователей и генерирует поздравительные картинки с днем рождения на основе полученного текста.

## Основной функционал

### Команды
- `/start` - показывает приветственное сообщение и краткую инструкцию по использованию бота

### Обработка сообщений
- **Текстовые сообщения**: напрямую используются для генерации изображения
- **Голосовые сообщения**: конвертируются в текст с помощью OpenAI Whisper, затем используются для генерации изображения

### Генерация изображений
- Используется модель с Hugging Face для создания поздравительных картинок
- Дополнительная обработка изображений через Pillow
- Сгенерированная картинка отправляется обратно пользователю

## Технический стек

### Основные библиотеки
- **aiogram 3.0** - фреймворк для создания Telegram ботов
- **Pillow** - обработка и генерация изображений

### Распознавание речи
- **openai-whisper** (>=20231117) - преобразование голоса в текст
- **torch** (>=2.0.0) - PyTorch для работы с моделями
- **torchaudio** (>=2.0.0) - обработка аудио
- **numpy** (>=1.22.0) - математические операции
- **imageio-ffmpeg** (>=0.4.8) - кодеки для работы с аудио/видео

## Архитектура
- Минималистичная архитектура без middleware
- Простая обработка сообщений без сложной логики состояний
- Прямолинейный пайплайн: получение сообщения → обработка → генерация картинки → отправка

## Развертывание
- **Окружение**: Conda environment
- **Зависимости**: pip requirements.txt
- **Запуск**: через watchdog для автоматического перезапуска при изменениях

## Структура проекта
```
birthday_bot/
├── bot.py              # Основной файл бота
├── speech_to_text.py   # Модуль распознавания речи
├── image_generator.py  # Модуль генерации изображений
├── requirements.txt    # Зависимости Python
├── environment.yml     # Conda окружение
└── README.md          # Инструкции по запуску
```

## Особенности реализации
- Простота и минимализм - фокус на основном функционале
- Отсутствие сложных middleware и обработчиков
- Быстрый отклик пользователю
- Обработка как текстовых, так и голосовых сообщений в едином пайплайне
